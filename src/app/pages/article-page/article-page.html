<div class="uk-container">
  <h2>Les articles</h2>
  <button class="uk-button uk-button-primary uk-width-1-1 uk-margin-medium-bottom" (click)="onClickCallApi()">
    Appel API
  </button>
  <form class="uk-button uk-button-primary uk-width-1-1 uk-margin-medium-bottom">
  Ajouter un article
  </form>



  <div class="uk-child-width-1-2@s uk-grid-match" uk-grid>
    <!-- boucle for pour creer les articles -->
    @for (article of articles; track article) {
      <div>
        <div class="uk-card uk-card-secondary uk-card-hover uk-card-body sdv-article-card"
           [ngStyle]="{ 'background-image': 'url(' + article.imgPath + ')'
           , 'background-size' : 'cover', 'background-position': 'center' }">


        <div class="sdv-dark-overlay"></div>
        <div class="sdv-article-card-layer-2">


          <h3 class="uk-card-title" >{{ article.title }}</h3>
          <p>{{ article.desc }}</p>


          <!-- Lien vers la page de dÃ©tail -->
          <button [routerLink]="['/article', article.id]">Voir l'article</button>

          <br>

          <!-- Bouton modif -->
          <button (click)="ouvrirFormulaireModification(article)">Modifier</button>

          <!-- Formulaire de modification -->
          <div *ngIf="articleEnModificationId === article.id" class="uk-margin-top">
            <input type="text" [(ngModel)]="formModif.title" placeholder="Nouveau titre">
            <input type="text" [(ngModel)]="formModif.desc" placeholder="Nouvelle description">
            <input type="file" [(ngModel)]="formModif.desc" placeholder="Nouvelle image">

            <button (click)="validerModification(article)">Valider</button>
            <button (click)="articleEnModificationId = null">Annuler</button>
          </div>

          <!-- Bouton de suppr -->
          <button (click)="supprimerArticle(article.id)">Supp</button>

        </div>
        </div>
        </div>

    }

  </div>
</div>
